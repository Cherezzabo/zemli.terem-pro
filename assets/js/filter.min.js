"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),searchAreasHelpers={url:{"default":"/area/"},selects:{select1:[{name:"road",name_text:"Шоссе",values:{v1:"Можайское шоссе",v2:"Киевское шоссе",v3:"Разянское шоссе"}}]},ranges:{range1:[{name:"distance",name_text:"Удаленность от МКАД",type:"км",min_text:"от",max_text:"до",values:{min:10,max:100}}],range2:[{name:"area",name_text:"Размер",type:"м",min_text:"от",max_text:"до",values:{min:6,max:10}}],range3:[{name:"price",name_text:"Цена",type:"р.",min_text:"от",max_text:"до",values:{min:1e5,max:3e6}}]}},searchLotHelpers={url:{"default":"/lots/"},ranges:{range1:[{name:"distance",name_text:"Test",type:"км",min_text:"от",max_text:"до",values:{min:10,max:100}}]}},Filter=function(){function t(e){_classCallCheck(this,t),this.areaObject=searchAreasHelpers,this.lotsObject=searchLotHelpers,this.wrapperFilter=e,this.FormHeader='<form action="" method="" id="filter" class="filter-form">\n   \t\t\t\t\t\t\t<div class="dropdown">\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" name="type" id="typeSearch" value="area" class="hidden">\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn btn-filter btn-lg dropdown-toggle" type="button" id="typeDropdown" data-placeholder="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Участки<span class="my-caret"></span>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class="dropdown-menu" aria-labelledby="dropdownRoad">\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="arrow-top"></span>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li><a href="#" data-type="area">Участки</a></li>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li><a href="#" data-type="lots">Лоты</a></li>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n   \t\t\t\t\t\t\t\t\t\t\t\t\t</div>',this.FormFooter='<div class="filter-button">\n\t\t\t\t\t\t\t\t<button class="refresh-button">Сбросить</button>\n\t\t\t\t\t\t\t\t<button class="submit-button">Найти</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>',this.FormText="",this.Bind=function(){var t="",e=this.areaObject,a=this.lotsObject,n=this;$(this.wrapperFilter+" > form").bind("click",function(r){var s=$(r.target).attr("id")?$(r.target).attr("id"):$(r.target).attr("data-type");s&&("lots"==s&&(t=a,n.render(t,1)),"area"==s&&(t=e,n.render(t,1)))})},this.onSelectChoose=function(){$(this.wrapperFilter+" li").on("click",function(t){var e=t.target||window.target,a=$(e).html(),n=$(this).parent().prev();n.html(a).prev().val(a)})},this.onRangeChoose=function(){}}return _createClass(t,[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.areaObject,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&($(this.wrapperFilter).html(" "),this.FormText="",console.log(1),console.log($(this.wrapperFilter))),t.selects)for(var a in t.selects){var n=t.selects[a][0];this.FormText+=this.tmpSelect(n)}if(t.ranges)for(var r in t.ranges){var s=t.ranges[r][0];this.FormText+=this.tmpRange(s)}$(this.wrapperFilter).html(this.FormHeader+" "+this.FormText+this.FormFooter),this.Bind()}},{key:"tmpSelect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,a="";if(t&&t.values){for(var n in t.values){var r='<li><a href="#">'+t.values[n]+"</a></li>";a+=r}e='<div class="dropdown">\n\t\t\t\t\t\t\t<input type="text" name="'+t.name+'" value="" class="hidden">\n\t\t\t\t\t\t\t<button class="btn btn-filter btn-lg dropdown-toggle" type="button" id="'+t.name+'Dropdown" data-placeholder="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t\t\t'+t.name_text+'\n\t\t\t\t\t\t\t\t<span class="my-caret"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<ul class="dropdown-menu" aria-labelledby="dropdownRoad">\n\t\t\t\t\t\t\t\t<span class="arrow-top"></span>\n\t\t\t\t\t\t\t\t'+a+"\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>"}return e}},{key:"tmpRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null;return t.values&&(e='<div class="dropdown">\n\t\t\t\t\t\t<input type="text" name="'+t.name+'" value="" class="hidden">\n\t\t\t\t\t\t<button class="btn btn-filter btn-lg dropdown-toggle" type="button" id="'+t.name+'Dropdown" data-placeholder="Удаленность от МКАД" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t\t'+t.name_text+'\n\t\t\t\t\t\t\t<span class="my-caret"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div class="dropdown-menu" aria-labelledby="'+t.name+'Dropdown">\n\t\t\t\t\t\t\t<span class="arrow-top"></span>\n\t\t\t\t\t\t\t<div class="range-box">\n\t\t\t\t\t\t\t\t<input type="number" name="'+t.name+'From" id="'+t.name+'-from" placeholder="'+t.min_text+" "+t.values.min+" "+t.type+'">\n\t\t\t\t\t\t\t\t<input type="number" name="'+t.name+'Upto" id="'+t.name+'-up-to" placeholder="'+t.max_text+" "+t.values.max+" "+t.type+'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>'),e}}]),t}();